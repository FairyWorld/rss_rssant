---
version: "1.2.3"
date: "2020-04-18"
title: "优化全文抓取准确性，增加Feed Checksum机制优化性能"
---

**优化全文抓取准确性**

对于 RSS 里没有输出全文的订阅，蚁阅会自动去抓取原文，但是之前有一些会误判：

1. 订阅没有输出全文但判为输出了，结果就只能看到摘要。
2. 订阅输出了全文，但全文内容较短，判断为没有输出全文，然后重新抓取却没提取到有效内容。

现在会对 RSS 输出内容和抓取的原文内容做模糊比对，
以此判断订阅输出的是不是全文以及抓取的原文是否有效，大幅提高判断的准确性。

**Feed Checksum机制**

现在会保存每个订阅最近 300 个故事的 checksum，解析订阅时只解析有变化的部分，
减少了大量不必要的解析处理时间。

**其他**

修复了一些愚蠢的Bug。  
另外我决定 23 点之后不再写任何代码，因为发现写的都是Bug。  
**保持精力充沛和大脑清醒才能有效产出**。
